<div class="container mt-4 d-flex">
    <div class="left-panel" style="flex: 2; padding-right: 20px;">
        <h3>Order Items</h3>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Barcode</th>
                    <th>Quantity</th>
                    <th>Selling Price</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let item of orderItems; let i = index">
                    <td>{{ item.barcode }}</td>
                    <td>{{ item.quantity }}</td>
                    <td>{{ item.sellingPrice }}</td>
                    <td>
                        <button type="button" class="btn btn-danger btn-sm" (click)="removeOrderItem(i)" *ngIf="orderItems.length > 1">❌ Remove</button>
                    </td>
                </tr>
            </tbody>
        </table>
        <button type="submit" class="btn btn-success" (click)="submitForm()">Submit Order</button>
    </div>

    <div class="right-panel" style="flex: 1;">
        <h3>Create Order</h3>
        <form (ngSubmit)="submitForm()">
            <!-- Customer Details -->
            <div class="mb-3">
                <label class="form-label">Customer Name</label>
                <input type="text" class="form-control" [(ngModel)]="customer.name" name="customerName" required>
            </div>
            <div class="mb-3">
                <label class="form-label">Customer Phone</label>
                <input type="tel" class="form-control" [(ngModel)]="customer.phone" name="customerPhone" required>
            </div>

            <!-- Order Item Form -->
            <div class="border p-3 mb-3">
                <h5>Add Sale Item</h5>
                <div class="mb-3">
                    <label class="form-label">Barcode</label>
                    <input type="text" class="form-control" [(ngModel)]="newItem.barcode" name="newBarcode" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Quantity</label>
                    <input type="number" class="form-control" [(ngModel)]="newItem.quantity" name="newQuantity" required>
                </div>
                <div class="mb-3">
                    <label class="form-label">Selling Price</label>
                    <input type="number" class="form-control" [(ngModel)]="newItem.sellingPrice" name="newSellingPrice" required>  
                </div>
                <button type="button" class="btn btn-secondary" (click)="addOrderItem()">➕ Add Sale Item</button>
            </div>
        </form>
    </div>
</div>
